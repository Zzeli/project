<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>注册</title>
    <link rel="stylesheet" href="../css/weui.css"/>
    <link rel="stylesheet" href="../css/example.css"/>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/login.css">

</head>
<body ontouchstart>

<div class="container" id="container">

    <div class="js_dialog" id="iosDialog1" style="display: none;">
        <div class="weui-mask"></div>
        <div class="weui-dialog">
            <div class="weui-dialog__bd">输入错误</div>
            <div class="weui-dialog__ft">
                <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary">知道了</a>
            </div>
        </div>
    </div>
    <div class="js_dialog" id="iosDialog" style="display: none;">
        <div class="weui-mask"></div>
        <div class="weui-dialog">
            <div class="weui-dialog__bd">密码由6-21字母和数字组成，不能是纯数字或纯英文；</div>
            <div class="weui-dialog__ft">
                <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary">知道了</a>
            </div>
        </div>
    </div>
    <div class="weui-msg" style="padding-top: 0.8rem">
        <form action="" method="">

        <div class="weui-cells" style="margin-top: 0">
            <div class="weui-cell">
                <div class="weui-cell__bd">
                    <div class="weui-cell__hd"><img src="../images/iphone_number.png"></div>
                    <input class="weui-input" type="text" placeholder="请输入手机号码" id="input">
                </div>
            </div>
            <div class=" weui-cell_vcode">
                <div class="weui-cell__bd weui-cell">
                    <input class="weui-input" type="tel" placeholder="请输入验证码" style="padding-left: 0.56rem" id="yzm">
                </div>
            <div class="weui-cell__ft">
                <button class="weui-vcode-btn">发送验证码</button>
            </div>
            </div>

            <div class="weui-cell">
                <div class="weui-cell__bd">
                    <div class="weui-cell__hd"><img src="../images/code.png"></div>
                    <input class="weui-input" type="password" placeholder="请输入密码" id="password">
                </div>
            </div>
            <div class="weui-cell">
                <div class="weui-cell__bd">
                    <input class="weui-input" type="password" placeholder="请确认密码" style="padding-left: 0.56rem;width: 67%" id="repassword">
                    <span id="tishi"></span>
                </div>
            </div>
        </div>

        <div class="weui-msg__opr-area">
            <p class="weui-btn-area">
                <a href="javascript:;" class="weui-btn weui-btn_primary" id="showIOSDialog1">注册</a>
            </p>
        </div>


        <div class="js_dialog" id="iosDialog2" style="display: none;">
            <div class="weui-mask"></div>
            <div class="weui-dialog">
                <div class="weui-dialog__bd">注册成功</div>
                <div class="weui-dialog__ft">
                    <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary">确定</a>
                </div>
            </div>
        </div>


        <div class="js_dialog" id="iosDialog3" style="display: none;">
            <div class="weui-mask"></div>
            <div class="weui-dialog">
                <div class="weui-dialog__bd">不能为空</div>
                <div class="weui-dialog__ft">
                    <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary">确定</a>
                </div>
            </div>
        </div>

    <label class="weui_cell weui_check_label" for="s12">
        <div class="weui_cell_hd">
            <input type="checkbox" name="checkbox1" class="weui_check" id="s12">
            <i class="weui_icon_checked"></i>
        </div>
        <div class="weui_cell_bd weui_cell_primary">
            <p>已阅读并同意《用户协议》</p>
        </div>

    </label>
    </form>

    </div>


</div>
</body>
</html>
<script src="../js/zepto.min.js"></script>
<script src="../js/jquery.js"></script>
<script>
    var inpEle = document.getElementById('input');
    var yzm=document.getElementById('yzm');
    var password=$('#password');
    var repassword=$('#repassword');
    var $iosDialog1 = $('#iosDialog1');
    var $iosDialog2 = $('#iosDialog2');
    var $iosDialog3 = $('#iosDialog3');
    var $iosDialog = $('#iosDialog');
    var yzmreg= /^\d{4}$/;
    var myreg = /^1([23578])\d{9}$/;
    var regExp=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,21}$/;
    inpEle.onblur = function(){
        var inpVal = this.value;
        if (!myreg.exec(inpVal)){
            $iosDialog1.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog1').off('click').hide();
            })
            inpEle.value="";
        }else{
//            alert('ok')
        }
    }
    yzm.onblur = function(){
        var inpVal = this.value;
        if (!yzmreg.exec(inpVal)){
            $iosDialog1.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog1').off('click').hide();
            })
            yzm.value="";
        }else{
//            alert('ok')
        }
    }
    password.on('blur',function(){
        var inpVal = this.value;
        if (!regExp.exec(inpVal)){
            $iosDialog.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog').off('click').hide();
            })
            password.val("");
        }else{
        }
    })
    //两次密码
    repassword.on('blur',function(){
        validate();
    })


    function validate() {
        var pwd = $("#password").val();
        var pwd1 = $("#repassword").val();
        <!-- 对比两次输入的密码 -->
        if(pwd == pwd1 && pwd.val()!="")
        {
            $("#tishi").html("两次密码相同");
            $("#tishi").css("color","green");
        }
        else {
            $("#tishi").html("两次密码不同");
            $("#tishi").css("color","red")
        }
    }



    $('#showIOSDialog1').on('click', function(){
        if ($(".weui-input").val() === ""){
            $iosDialog3.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog3').off('click').hide();
            });
        }else if($(".weui-input").eq(1).val() === ""){
            $iosDialog3.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog3').off('click').hide();
            });
        }else if($(".weui-input").eq(2).val() === ""){
            $iosDialog3.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog3').off('click').hide();
            });

        }else if($(".weui-input").eq(3).val() === ""){
            $iosDialog3.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog3').off('click').hide();
            });

        }else if($(".weui-input").eq(4).val() === ""){
            $iosDialog3.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog3').off('click').hide();
            });

        }else{
            $iosDialog2.fadeIn(0);
            $('.weui-dialog__ft .weui-dialog__btn').click(function () {
                $('#iosDialog2').off('click').hide();
            });
        }

    });



</script>


