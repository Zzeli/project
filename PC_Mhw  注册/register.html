<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>注册</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
<div class="content">
    <div class="header">
        <div class="logo">
            <div class="logo"></div>
            <div class="title"></div>
        </div>
        <div class="search">
            <form class="navbar-form navbar-left" role="search">
                <div class="form-group">
                    <select name="" id="">
                        <option value="">太原</option>
                    </select>
                    <input type="text" class="form-control">
                    <a href="#"></a>
                </div>
            </form>
            <div class="login">
                <a href="#" class="left">登录</a>
                <a href="#" class="right">注册</a>
            </div>
        </div>
    </div>
    <div class="toggle">
        <nav class="navbar navbar-default" style="width: 100%">
            <div class="container">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="index.html">首页<span class="sr-only">(current)</span></a></li>
                    <li><a href="news.html">新闻动态</a></li>
                    <li><a href="education.html">学历教育</a></li>
                    <li><a href="workplace.html">职场考证</a></li>
                    <li><a href="vip_message.html">会员中心</a></li>
                    <li><a href="#">关于我们</a></li>
                    <li><a href="#">联系我们</a></li>
                </ul>

            </div>
        </nav>

    </div>
  <div class="login-box" style="margin-bottom: 291px">
        <div class="login-icon"></div>
        <form action="#" method="post">
            <div class="input-group login-username">
                <span class="input-group-addon" id="basic-addon1"></span>
                <input type="text" class="form-control" name="username" placeholder="请输入手机号" aria-describedby="basic-addon1">
            </div>
            <div class="zhuce-verify-box">
                <div class="input-group zhuce-verify">
                    <span class="input-group-addon" id="basic-addon3"></span>
                    <input id="input1" onclick="createCode()" type="text" class="form-control" name="verify" placeholder="请输入验证码" aria-describedby="basic-addon1" onkeyup="value=value.replace(/[^\d]/g,'') " ng-pattern="/[^a-zA-Z]/">
                </div>
                <div class="btn-group zhuce-duanxi zhuce-yifa" role="group">
                    <button type="button" class="btn btn-default">发送验证码</button>
                </div>
            </div>


            <div class="input-group login-username" style="margin-top: 13px">
                <span class="input-group-addon" id="basic-addon2"></span>
                <input type="password" class="form-control" name="password" placeholder="请输入密码" aria-describedby="basic-addon1">
            </div>
            <div class="input-group login-username" style="margin-top: 13px">
                <span class="input-group-addon" id="basic-addon4"></span>
                <input type="password" class="form-control" name="new_password" placeholder="请输入密码" aria-describedby="basic-addon1">
            </div>
            <div class="btn-group login-anniu" role="group">
                <button type="button" class="btn btn-default">提交</button>
            </div>
            <div class="checkbox">
                <label>
                    <input type="checkbox" name="xuanze" weixuan="0">已阅读并同意
                </label>
                <a href="#" style="float: none">《用户协议》</a>
            </div>
        </form>
    </div>

    <div class="footer">
        <div class="skill"><div>技术支持</div>
            <div style="margin-left: 20px">山西欢颜网络科技有限公司</div></div>
    </div>
</div>

</body>
</html>
<script src="js/swiper.min.js"></script>
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/index.js"></script>
<script>




 $("input[name='username']").on("blur",function () {
        var username=$("input[name='username']").val()
        if(!(/^1[34578]\d{9}$/.test(username))){
            alert("手机号码有误，请重新输入");
            $("input[name='username']").val("")
            return false;
        }
    })

    // $("input[name='password']").on("blur",function () {
    //    var mimatest=/^[a-zA-Z]\w{5,17}$/
    //    var mima=$("input[name='password']").val();
    //    if(!(mimatest.test(mima))){
    //     alert("以字母开头，长度在6-18之间，只能包含字符、数字和下划线");
    //    return false;
    //    }
    // })
    $(".zhuce-duanxi").on("click",function () {
        var username=$("input[name='username']").val()
        if(!(/^1[34578]\d{9}$/.test(username))){
            alert("手机号码有误，请重新输入");
            $("input[name='username']").val("")
            return false;
        }
        var that=$(this)
        var timer=60
        /*
        * 倒计时函数
        * timer设置时间
        *
        *
        * */
        function Countdown() {
            if (timer >= 1) {
                timer -= 1;
                var t=setTimeout(function() {
                    if(timer==0){
                        that.find("button").text("重新发送")
                        that.addClass("zhuce-duanxi")
                    }else {
                        that.removeClass("zhuce-duanxi")
                        that.find("button").text(timer+"s")
                        Countdown();
                    }
                }, 1000);
            }
        }
        Countdown()
//        $.ajax({
//            url:"ajax.php",
//            type:'post',
//            dataType:"json",
//            data:username,
//            beforeSend:function(){
//                that.find("button").text("正在发送...")
//            },
//            success:function(msg)
//            {
//                Countdown()
//            }
//        })

    })

    $("input[name='xuanze']").on("click",function () {
        if($(this).attr("weixuan")==0){
            $(this).attr("weixuan","1")
        }else {
            $(this).attr("weixuan","0")
        }
    })
    $(".login-anniu button").on("click",function () {
        function createObj() {
            var obj = new Object(); //创建对象
            obj.new_password=$("input[name='new_password']").val()
            obj.password=$("input[name='password']").val()
            obj.verify=$("input[name='verify']").val()
            obj.username=$("input[name='username']").val()
            obj.xuanze=$("input[name='xuanze']").attr("weixuan")
            return obj
        }
        var obj=createObj()

        if(obj.new_password==obj.password&&obj.password!=""&&obj.verify!=""&&obj.username!=""&&obj.xuanze==1){
//            $.ajax({
//                url:"ajax.php",
//                type:'post',
//                dataType:"json",
//                data:obj,
//                beforeSend:function(){
//                    that.find("button").text("正在发送...")
//                },
//                success:function(msg)
//                {
//                   //这块填写返回数据的处理，，要是数据返回的是成功就直接跳转首页
//
//                }
//            })
            console.log(obj)
        }else {
            if(obj.username==""){
                alert("用户名未填写");
                return false;
            };
            if(obj.verify==""){
                alert("验证码未填写");
                return false;
            };
            if(obj.password==""){
                alert("密码未填写");
                return false;
            };
            if(obj.new_password!=obj.password){
                alert("两次密码必须一致");
                return false;
            };
            if(obj.xuanze==0){
                alert("未同意《用户协议》");
                return false;
            };
        }

    })












      // var code; //在全局 定义验证码
      // var code2; //在全局 定义验证码

      //   function createCode(){
      //       $.ajax({
      //               url:"ajax.php",
      //               type:'post',
      //               dataType:"json",
      //               data:code2,
      //               success:function(msg)
      //               {
      //                   console.log(msg)
      //               }
      //           })
             
      //   }

      // $("#input1").blur(function () {
      //    var inputCode = document.getElementById("input1").value;
      //    var decide=/^\d{4}$/;
      //        if (inputCode.length <= 0) {
      //            alert("请输入验证码！");
      //          }
      //           else if (!(decide.test(inputCode))) {
      //               alert("验证码输入错误！");
      //               createCode(); //刷新验证码
      //         }
      //          else if (inputCode != code2) {
      //               alert("验证码输入错误！");
      //               createCode(); //刷新验证码
      //         }
      //         else {
      //               alert("^-^ OK");
      //          return false;
      //      }
      //  });



</script>
